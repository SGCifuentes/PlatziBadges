(this["webpackJsonpplatzi-badges"]=this["webpackJsonpplatzi-badges"]||[]).push([[0],{20:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a(1),n=a.n(r),c=a(13),i=a.n(c),o=(a(28),a(29),a(5)),l=a(2),d=(a(30),a.p+"static/media/logo.235d00e1.svg");class j extends n.a.Component{render(){return Object(s.jsx)("div",{className:"Navbar",children:Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)(o.b,{className:"Navbar__brand",to:"/",children:[Object(s.jsx)("img",{className:"Navbar__brand-logo",src:d,alt:"Logo"}),Object(s.jsx)("span",{className:"font-weight-light",children:"Platzi"}),Object(s.jsx)("span",{className:"font-weight-bold",children:"Conf"})]})})})}}var h=j;var b=function(e){return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(h,{}),e.children]})},m=(a(36),a.p+"static/media/platziconf-logo.c1d00c3e.svg"),p=a.p+"static/media/astronauts.ea532e99.svg";class x extends r.Component{render(){return Object(s.jsx)("div",{className:"Home",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"Home__col col-12 col-md-4",children:[Object(s.jsx)("img",{src:m,alt:"Platzi Conf Logo",className:"img-fluid mb-2"}),Object(s.jsx)("h1",{children:"Badge Management System"}),Object(s.jsx)(o.b,{className:"btn btn-primary",to:"/badges",children:"Start"})]}),Object(s.jsx)("div",{className:"Home__col d-none d-md-block col-md-8",children:Object(s.jsx)("img",{src:p,alt:"Astronauts",className:"img-fluid p-4"})})]})})})}}var u=a(4),O=a.n(u),g=a(9),v=(a(38),a.p+"static/media/badge-header.2c3af956.svg"),f=(a(39),a(22)),N=a.n(f);var w=function(e){const t=e.email,a=N()(t);return Object(s.jsx)("img",{className:e.className,src:"https://www.gravatar.com/avatar/".concat(a,"?d=identicon"),alt:"Avatar"})};class C extends n.a.Component{render(){return Object(s.jsxs)("div",{className:"BadgesListItem",children:[Object(s.jsx)(w,{className:"BadgesListItem__avatar",email:this.props.badge.email}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("strong",{children:[this.props.badge.firstName," ",this.props.badge.lastName]}),Object(s.jsx)("br",{}),"@",this.props.badge.twitter,Object(s.jsx)("br",{}),this.props.badge.jobTitle]})]})}}class _ extends n.a.Component{render(){return 0===this.props.badges.length?Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:"No badges were found"}),Object(s.jsx)(o.b,{className:"btn btn-primary",to:"/badges/new",children:"Create new badge"})]}):Object(s.jsx)("div",{className:"BadgesList",children:Object(s.jsx)("ul",{className:"list-unstyled",children:this.props.badges.map((e=>Object(s.jsx)("li",{children:Object(s.jsx)(o.b,{className:"text-reset text-decoration-none",to:"/badges/".concat(e.id),children:Object(s.jsx)(C,{badge:e})})},e.id)))})})}}var S=_;a(42),a(20);class B extends r.Component{render(){return Object(s.jsxs)("div",{className:"lds-grid",children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})}}var y=function(){return Object(s.jsx)("div",{className:"PageLoading",children:Object(s.jsx)(B,{})})};a(43);var T=function(e){return Object(s.jsx)("div",{className:"PageError",children:e.error.message})};class I extends r.Component{render(){return Object(s.jsxs)("div",{className:"lds-grid",children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})}}const M="http://localhost:3001",k=(e=30,t=1500)=>{return a=((e=0,t=1)=>Math.floor(Math.random()*(t-e+1))+e)(e,t),new Promise((e=>setTimeout(e,a)));var a};function D(e){return E.apply(this,arguments)}function E(){return(E=Object(g.a)(O.a.mark((function e(t,a={}){var s,r,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:return a.headers={"Content-Type":"application/json",Accept:"application/json"},s=M+t,e.next=6,fetch(s,a);case 6:return r=e.sent,e.next=9,r.json();case 9:return n=e.sent,e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L={badges:{list:()=>D("/badges"),create:e=>D("/badges",{method:"POST",body:JSON.stringify(e)}),read:e=>D("/badges/".concat(e)),update:(e,t)=>D("/badges/".concat(e),{method:"PUT",body:JSON.stringify(t)}),remove:e=>D("/badges/".concat(e),{method:"DELETE"})}};class A extends n.a.Component{constructor(...e){var t;super(...e),t=this,this.state={loading:!0,error:null,data:void 0},this.fetchData=Object(g.a)(O.a.mark((function e(){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({loading:!0,error:null}),e.prev=1,e.next=4,L.badges.list();case 4:a=e.sent,t.setState({loading:!1,data:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.setState({loading:!1,error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))}componentDidMount(){this.fetchData(),this.intervalId=setInterval(this.fetchData,5e3)}componentWillUnmount(){clearInterval(this.intervalId)}render(){return!0!==this.state.loading||this.state.data?this.state.error?Object(s.jsx)(T,{error:this.state.error}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("div",{className:"Badges",children:Object(s.jsx)("div",{className:"Badges__hero",children:Object(s.jsx)("div",{className:"Badges__container",children:Object(s.jsx)("img",{className:"Badges_conf-logo",src:v,alt:"Conf Logo"})})})}),Object(s.jsxs)("div",{className:"Badges__container",children:[Object(s.jsx)("div",{className:"Badges__buttons",children:Object(s.jsx)(o.b,{to:"/badges/new",className:"btn btn-primary",children:"New Badge"})}),Object(s.jsx)(S,{badges:this.state.data}),this.state.loading&&Object(s.jsx)(I,{})]})]}):Object(s.jsx)(y,{})}}var P=A,F=a(11);a(44),a(45);class z extends n.a.Component{render(){return Object(s.jsxs)("div",{className:"Badge",children:[Object(s.jsx)("div",{className:"Badge__header",children:Object(s.jsx)("img",{src:v,alt:"Logo de la conferencia"})}),Object(s.jsxs)("div",{className:"Badge__section-name",children:[Object(s.jsx)(w,{className:"Badge__avatar",email:this.props.email}),Object(s.jsxs)("h1",{children:[this.props.firstName," ",Object(s.jsx)("br",{})," ",this.props.lastName]})]}),Object(s.jsxs)("div",{className:"Badge__section-info",children:[Object(s.jsx)("h3",{children:this.props.jobTitle}),Object(s.jsxs)("div",{children:["@",this.props.twitter]})]}),Object(s.jsx)("div",{className:"Badge__footer",children:"#platziconf"})]})}}var J=z;class V extends n.a.Component{constructor(...e){super(...e),this.handleClick=e=>{console.log("Button was clicked")}}render(){return Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:this.props.onSubmit,children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"First Name"}),Object(s.jsx)("input",{onChange:this.props.onChange,className:"form-control",type:"text",name:"firstName",value:this.props.formValues.firstName})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Last Name"}),Object(s.jsx)("input",{onChange:this.props.onChange,className:"form-control",type:"text",name:"lastName",value:this.props.formValues.lastName})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email"}),Object(s.jsx)("input",{onChange:this.props.onChange,className:"form-control",type:"email",name:"email",value:this.props.formValues.email})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Job Title"}),Object(s.jsx)("input",{onChange:this.props.onChange,className:"form-control",type:"text",name:"jobTitle",value:this.props.formValues.jobTitle})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Twitter"}),Object(s.jsx)("input",{onChange:this.props.onChange,className:"form-control",type:"text",name:"twitter",value:this.props.formValues.twitter})]}),Object(s.jsx)("button",{onClick:this.handleClick,className:"btn btn-primary",children:"Save"}),this.props.error&&Object(s.jsx)("p",{className:"text-danger",children:this.props.error.message})]})})}}var U=V;class H extends n.a.Component{constructor(...e){var t;super(...e),t=this,this.state={loading:!1,error:null,form:{firstName:"",lastName:"",email:"",jobTitle:"",twitter:""}},this.handleChange=e=>{this.setState({form:Object(F.a)(Object(F.a)({},this.state.form),{},{[e.target.name]:e.target.value})})},this.handleSubmit=function(){var e=Object(g.a)(O.a.mark((function e(a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t.setState({loading:!0,error:null}),e.prev=2,e.next=5,L.badges.create(t.state.form);case 5:t.setState({loading:!1}),t.props.history.push("/badges"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t.setState({loading:!1,error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}render(){return this.state.loading?Object(s.jsx)(y,{}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("div",{className:"BadgeNew__hero",children:Object(s.jsx)("img",{className:"BadgeNew__hero-image img-fluid",src:m,alt:"Logo"})}),Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-6",children:Object(s.jsx)(J,{firstName:this.state.form.firstName||"FIRST_NAME",lastName:this.state.form.lastName||"LAST_NAME",twitter:this.state.form.twitter||"twitter",jobTitle:this.state.form.jobTitle||"JOB_TITLE",email:this.state.form.email||"EMAIL",avatarUrl:"https://www.gravatar.com/avatar/21594ed15d68ace3965642162f8d2e84?d=identicon"})}),Object(s.jsxs)("div",{className:"col-6",children:[Object(s.jsx)("h1",{children:"New Attendant"}),Object(s.jsx)(U,{onChange:this.handleChange,onSubmit:this.handleSubmit,formValues:this.state.form,error:this.state.error})]})]})})]})}}var R=H;a(46),a(47);var W=function(e){return e.isOpen?i.a.createPortal(Object(s.jsx)("div",{className:"Modal",children:Object(s.jsxs)("div",{className:"Modal__container",children:[Object(s.jsx)("button",{onClick:e.onClose,className:"Modal__close-button",children:"X"}),e.children]})}),document.getElementById("modal")):null};var X=function(e){return Object(s.jsx)(W,{isOpen:e.isOpen,isClose:e.onClose,children:Object(s.jsxs)("div",{className:"DeleteBadgeModal",children:[Object(s.jsx)("h1",{children:"Are you sure?"}),Object(s.jsx)("p",{children:"You are about to delete this badge"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{onClick:e.onDeleteBadge,className:"btn btn-danger mr-4  ",children:"Delete"}),Object(s.jsx)("button",{onClick:e.onClose,className:"btn btn-primary",children:"Cancel"})]})]})})};var Y=function(e){const t=e.badge;return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"BadgeDetails__hero",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-6",children:Object(s.jsx)("img",{src:m,alt:"Logo de la Conferencia"})}),Object(s.jsx)("div",{className:"col-6 BadgeDetails__hero-attendant-name",children:Object(s.jsxs)("h1",{children:[t.firstName," ",t.lastName]})})]})})}),Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(J,{firstName:t.firstName,lastName:t.lastName,email:t.email,twitter:t.twitter,jobTitle:t.jobTitle})}),Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("h2",{children:"Actions"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:Object(s.jsx)(o.b,{className:"btn btn-primary mb-4",to:"/badges/".concat(t.id,"/edit"),children:"Edit"})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{onClick:e.onOpenModal,className:"btn btn-danger",children:"Delete"}),Object(s.jsx)(X,{isOpen:e.modalIsOpen,onClose:e.onCloseModal})]})]})]})]})})]})};class q extends n.a.Component{constructor(...e){var t;super(...e),t=this,this.state={loading:!0,error:null,data:void 0,modalIsOpen:!1},this.fetchData=Object(g.a)(O.a.mark((function e(){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({loading:!0,error:null}),e.prev=1,e.next=4,L.badges.read(t.props.match.params.badgeId);case 4:a=e.sent,t.setState({loading:!1,data:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.setState({loading:!1,error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),this.handleOpenModal=e=>{this.setState({modalIsOpen:!0})},this.handleCloseModal=e=>{this.setState({modalIsOpen:!1})}}componentDidMount(){this.fetchData()}render(){return this.state.loading?Object(s.jsx)(y,{}):this.state.error?Object(s.jsx)(T,{error:this.state.error}):Object(s.jsx)(Y,{onCloseModal:this.handleCloseModal,onOpenModal:this.handleOpenModal,modalIsOpen:this.state.modalIsOpen,badge:this.state.data})}}var G=q;a(48);class K extends n.a.Component{constructor(...e){var t;super(...e),t=this,this.state={loading:!0,error:null,form:{firstName:"",lastName:"",email:"",jobTitle:"",twitter:""}},this.fetchData=function(){var e=Object(g.a)(O.a.mark((function e(a){var s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({loading:!0,error:null}),e.prev=1,e.next=4,L.badges.read(t.props.match.params.badgeId);case 4:s=e.sent,t.setState({loading:!1,form:s}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.setState({loading:!1,error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),this.handleChange=e=>{this.setState({form:Object(F.a)(Object(F.a)({},this.state.form),{},{[e.target.name]:e.target.value})})},this.handleSubmit=function(){var e=Object(g.a)(O.a.mark((function e(a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t.setState({loading:!0,error:null}),e.prev=2,e.next=5,L.badges.update(t.props.match.params.badgeId,t.state.form);case 5:t.setState({loading:!1}),t.props.history.push("/badges"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t.setState({loading:!1,error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}componentDidMount(){this.fetchData()}render(){return this.state.loading?Object(s.jsx)(y,{}):Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)("div",{className:"BadgeEdit__hero",children:Object(s.jsx)("img",{className:"BadgeEdit__hero-image img-fluid",src:m,alt:"Logo"})}),Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-6",children:Object(s.jsx)(J,{firstName:this.state.form.firstName||"FIRST_NAME",lastName:this.state.form.lastName||"LAST_NAME",twitter:this.state.form.twitter||"twitter",jobTitle:this.state.form.jobTitle||"JOB_TITLE",email:this.state.form.email||"EMAIL",avatarUrl:"https://www.gravatar.com/avatar/21594ed15d68ace3965642162f8d2e84?d=identicon"})}),Object(s.jsxs)("div",{className:"col-6",children:[Object(s.jsx)("h1",{children:"Edit Attendant"}),Object(s.jsx)(U,{onChange:this.handleChange,onSubmit:this.handleSubmit,formValues:this.state.form,error:this.state.error})]})]})})]})}}var Q=K;var Z=function(){return Object(s.jsx)("h1",{children:"404: Not Found"})};var $=function(){return Object(s.jsx)(o.a,{children:Object(s.jsx)(b,{children:Object(s.jsxs)(l.c,{children:[Object(s.jsx)(l.a,{exact:!0,path:"/",component:x}),Object(s.jsx)(l.a,{exact:!0,path:"/PlatziBadges",component:x}),Object(s.jsx)(l.a,{exact:!0,path:"/badges",component:P}),Object(s.jsx)(l.a,{exact:!0,path:"/badges/new",component:R}),Object(s.jsx)(l.a,{exact:!0,path:"/badges/:badgeId",component:G}),Object(s.jsx)(l.a,{exact:!0,path:"/badges/:badgeId/edit",component:Q}),Object(s.jsx)(l.a,{component:Z})]})})})};const ee=document.getElementById("app");i.a.render(Object(s.jsx)($,{}),ee)}},[[49,1,2]]]);
//# sourceMappingURL=main.aa0c7a42.chunk.js.map